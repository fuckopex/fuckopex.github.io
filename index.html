<!DOCTYPE html>
<html>
<head></head>
<body>

	<script type="module">

		let register, worker, LaunchBlock;

console.time("sw")
		register = await navigator.serviceWorker.register( '/IMCache.js' );
		register = await register.update();

		worker = register.installing || register.waiting || register.active;
		worker.ready = () => worker.state == 'activated';


		await new Promise( resolve => {
			worker.addEventListener( 'statechange', () => worker.ready() && resolve() );
			worker.ready() && resolve();
		});
console.timeEnd("sw")


		LaunchBlock = ( await import( '/src/LaunchBlock.js' ) ).default;
		LaunchBlock.init();
		LaunchBlock.launch();

	</script>

</body>
</html>